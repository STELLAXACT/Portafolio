name: CI

on:
  push:
    branches: [ "main", "feature/*" ]
  pull_request:
    branches: [ "main", "feature/*" ]
  workflow_dispatch:

jobs:
  discord-notifier:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Send Discord Notification
        uses: Ilshidur/action-discord@master
        env:
          DISCORD_WEBHOOK: "https://discord.com/api/webhooks/1448769681635672229/ZRj2-qTd5dLP8IKGH5mTeNqxtvwmCfYa2LME2BlD5ASEPmDYQV7_geBs1JbkG0p2TOos"
        with:
          args: |
            ğŸ”” **Nueva actualizaciÃ³n en el repositorio**
            
            ğŸ“¦ **Repositorio:** `${{ github.repository }}`
            ğŸŒ¿ **Rama:** `${{ github.ref_name }}`
            ğŸ‘¤ **Autor:** `${{ github.actor }}`
            ğŸ“ **Commit:** `${{ github.event.head_commit.message }}`
            ğŸ”— **URL del commit:** ${{ github.event.head_commit.url }}